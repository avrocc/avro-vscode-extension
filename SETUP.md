# Extension Setup & Running Instructions

## What Was Created

A complete VS Code extension with:
- **TreeView Menu** in Explorer sidebar displaying 3 sample items
- **Context Menu Actions** (Open, Edit, Delete) for each item
- **Refresh Button** to reload the items
- Full TypeScript source with proper typing
- Debug configuration for development
- Complete build setup

## Quick Start (3 steps)

### 1. Open Extension Folder in VS Code
```powershell
cd c:\repos2\avro-vscode\extensions\treeview-example
code .
```

### 2. Install Dependencies
```powershell
npm install
```

### 3. Run the Extension
Press **F5** in VS Code (or go to Run > Start Debugging)

## What Happens When You Press F5

1. VS Code compiles TypeScript to JavaScript
2. A new VS Code window opens ("Extension Development Host")
3. The extension is automatically loaded
4. You see the "Items Explorer" panel in the Explorer sidebar (left panel)

## Testing the Features

### TreeView
- Look for "Items Explorer" in the Explorer sidebar (Ctrl+Shift+E)
- You'll see 3 items displayed:
  - Item 1 - First example item
  - Item 2 - Second example item  
  - Item 3 - Third example item

### Right-Click Context Menu
Right-click any item to see options:

1. **Open Item** (icon: document)
   - Shows notification: "Opening item: Item X"
   - Click to test

2. **Edit Item** (icon: pencil)
   - Shows notification: "Editing item: Item X"
   - Click to test

3. **Delete Item** (icon: trash)
   - Shows confirmation dialog
   - Click "Yes" to delete (item is removed from tree)
   - Click "No" to cancel

### Refresh Button
- Click the **Refresh** button (ğŸ”„) at the top of Items Explorer
- Shows notification: "Items refreshed!"

## Project Structure

```
treeview-example/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ extension.ts        â† Main extension code (command registration)
â”‚   â””â”€â”€ itemsProvider.ts    â† TreeView data provider (displays items)
â”œâ”€â”€ dist/                   â† Compiled JavaScript (generated by npm run compile)
â”œâ”€â”€ package.json            â† Extension manifest & metadata
â”œâ”€â”€ tsconfig.json           â† TypeScript settings
â”œâ”€â”€ .vscode/
â”‚   â”œâ”€â”€ launch.json         â† Debug configuration
â”‚   â””â”€â”€ tasks.json          â† Build tasks
â”œâ”€â”€ README.md               â† Full documentation
â”œâ”€â”€ QUICKSTART.md           â† Development guide
â””â”€â”€ SETUP.md                â† This file
```

## Development Workflow

### Edit & Reload
1. Make changes to TypeScript files in `src/`
2. Stop debugging (Shift+F5)
3. Run again (F5)
4. Changes are automatically compiled and loaded

### Watch Mode
For automatic compilation while editing:
```powershell
npm run watch
```

Then just reload the extension window (F5) after making changes.

### Debugging
1. Set breakpoints by clicking on line numbers
2. Press F5 to debug
3. VS Code pauses at breakpoints
4. Use Debug Console to inspect variables

## Common Tasks

### To Add a 4th Item
Edit `src/itemsProvider.ts` constructor:
```typescript
this.items.set('item-4', new Item('item-4', 'Item 4', 'Fourth example item'));
```

### To Change Item Names
Edit the same location in `src/itemsProvider.ts`

### To Change Context Menu Actions
Edit `package.json` in the `menus.view/item/context` section

### To Add More Commands
Edit `src/extension.ts` to register additional commands

## Troubleshooting

### Extension doesn't appear in sidebar?
- Close and reopen the Extension Development Host window
- Make sure "Items Explorer" is visible (check Explorer panel)

### Changes not taking effect?
- Stop debugging (Shift+F5)
- Make sure compilation finished: `npm run compile`
- Press F5 to restart

### Build errors?
```powershell
npm run compile
```

Check the output - fix TypeScript errors shown

### Port already in use?
Close other VS Code windows running the extension

## Commands for Reference

```powershell
# Install dependencies
npm install

# Compile TypeScript
npm run compile

# Watch for changes
npm run watch

# Lint code
npm run lint

# Run tests (if configured)
npm test
```

## File Descriptions

| File | Purpose |
|------|---------|
| `src/extension.ts` | Main extension entry point, registers all commands |
| `src/itemsProvider.ts` | TreeView data provider, manages items list |
| `package.json` | Extension manifest (name, version, commands, menus) |
| `tsconfig.json` | TypeScript compiler configuration |
| `.vscode/launch.json` | Debug launch configuration |
| `.vscode/tasks.json` | Build task configuration |
| `dist/*` | Compiled JavaScript (don't edit manually) |

## Next: Making It Your Own

To customize this extension:

1. **Change extension name** in `package.json`
2. **Change display name** in `package.json`  
3. **Add your own data** to `ItemsProvider` class
4. **Implement real actions** in the command handlers
5. **Add more menu items** in `package.json`
6. **Persist data** using workspace storage or files

## Resources

- [VS Code Extension API](https://code.visualstudio.com/api)
- [TreeView Guide](https://code.visualstudio.com/api/extension-guides/tree-view)
- [Extension Manifest Docs](https://code.visualstudio.com/api/references/extension-manifest)
- [Command API](https://code.visualstudio.com/api/references/commands)

---

**Ready to test?** Press F5 and enjoy! ğŸš€
